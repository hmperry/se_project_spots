!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-button",inactiveButtonClass:"modal__submit-button_inactive",inputErrorClass:"modal__input_type_error",errorClass:"modal__error"},t=(e,t,o)=>{e.querySelector(`#${t.id}-error`).textContent="",t.classList.remove(o.inputErrorClass)},o=(e,t,o)=>{(e=>e.some((e=>!e.validity.valid)))(e)?r(t,o):(t.classList.remove(o.inactiveButtonClass),t.disabled=!1)},r=(e,t)=>{e.classList.add(t.inactiveButtonClass),e.disabled=!0},n=e=>{Array.from(document.querySelectorAll(e.formSelector)).forEach((n=>{((e,n)=>{const c=Array.from(e.querySelectorAll(n.inputSelector)),a=e.querySelector(n.submitButtonSelector);console.log(c),console.log(a),o(c,a,n),e.addEventListener("reset",(()=>{r(a,n)})),c.forEach((r=>{r.addEventListener("input",(function(){((e,o,r)=>{console.log(o.validationMessage),o.validity.valid?t(e,o,r):((e,t,o,r)=>{e.querySelector(`#${t.id}-error`).textContent=o,t.classList.add(r.inputErrorClass)})(e,o,o.validationMessage,r)})(e,r,n),o(c,a,n)}))}))})(n,e)}))};n(e),new class{constructor(e){}getInitialCards(){return fetch("https://around-api.en.tripleten-services.com/v1",{headers:{authorization:"3865b531-c637-4f08-82ee-36af95a41c77"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"3865b531-c637-4f08-82ee-36af95a41c77","Content-Type":"application/json"}}).getInitialCards().then((e=>{e.forEach((e=>{const t=b(e);c.append(t)}))}));const c=document.querySelector("#cards_list"),a=document.querySelector(".profile__edit-button"),l=document.querySelector("#edit-profile-modal"),i=document.querySelector(".profile__name"),d=document.querySelector(".profile__title"),s=l.querySelector("#profile-name-input"),u=l.querySelector("#profile-description-input"),m=document.forms["profile-form"];a.addEventListener("click",(()=>{var o,r;s.value=i.textContent,u.value=d.textContent,o=m,r=e,[s,u].forEach((e=>{t(o,e,r)})),f(l)}));const _=document.querySelectorAll(".modal"),p=e=>{_.forEach((t=>{e.target===t&&t.classList.contains("modal_opened")&&y(t)}))},v=e=>{_.forEach((t=>{"Escape"===e.key&&_.forEach(y)}))};function f(e){e.classList.add("modal_opened"),document.addEventListener("mousedown",p),document.addEventListener("keydown",v)}function y(e){e.classList.remove("modal_opened"),document.removeEventListener("mousedown",p),document.removeEventListener("keydown",v)}document.querySelectorAll(".modal__close-button").forEach((e=>{const t=e.closest(".modal");e.addEventListener("click",(()=>y(t)))})),m.addEventListener("submit",(function(e){e.preventDefault(),i.textContent=s.value,d.textContent=u.value,y(l)}));const S=document.querySelector("#card-template"),q=document.querySelector("#preview-modal"),E=q.querySelector(".modal__image"),L=q.querySelector(".modal__caption");function b(e){const t=S.content.querySelector(".card").cloneNode(!0);t.querySelector(".card__title").textContent=e.name;const o=t.querySelector(".card__image");o.src=e.link,o.alt=e.name;const r=t.querySelector(".card__like-button");return r.addEventListener("click",(()=>{r.classList.toggle("card__like-button_liked")})),t.querySelector(".card__delete-button").addEventListener("click",(()=>{t.remove()})),o.addEventListener("click",(()=>{E.src=e.link,E.alt=e.name,L.textContent=e.name,f(q)})),t}const C=document.querySelector(".profile__new-post-button"),h=document.querySelector("#add-card-modal"),k=h.querySelector("#add-card-link-input"),g=h.querySelector("#add-card-name-input"),x=document.forms["add-card-form"];h.querySelector(".modal__submit-button"),C.addEventListener("click",(()=>{f(h)})),x.addEventListener("submit",(function(e){e.preventDefault();const t=b({name:g.value,link:k.value});c.prepend(t),e.target.reset(),y(h)})),n(e)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TSxFQUF3QmpDLFFBR2hDWCxFQUFVK0MsUUFBUWpELEdBQ2xCa0IsRUFBSUUsT0FBTzhCLFFBRVg1QixFQUFXdUIsRUFDYixJQUlBM0UsRUFBaUIxQixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9zY3JpcHRzL3ZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3V0aWxzL2FwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3Qgc2V0dGluZ3MgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc3VibWl0LWJ1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3N1Ym1pdC1idXR0b25faW5hY3RpdmVcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvclwiLFxyXG59O1xyXG5cclxuY29uc3Qgc2hvd0lucHV0RXJyb3IgPSAoZm9ybUVsLCBpbnB1dEVsLCBlcnJvck1zZywgY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZXJyb3JNc2dFbCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xyXG4gIGVycm9yTXNnRWwudGV4dENvbnRlbnQgPSBlcnJvck1zZztcclxuICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbn07XHJcblxyXG5jb25zdCBoaWRlSW5wdXRFcnJvciA9IChmb3JtRWwsIGlucHV0RWwsIGNvbmZpZykgPT4ge1xyXG4gIGNvbnN0IGVycm9yTXNnRWwgPSBmb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcclxuICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gXCJcIjtcclxuICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybUVsLCBpbnB1dEVsLCBjb25maWcpID0+IHtcclxuICBjb25zb2xlLmxvZyhpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlKTtcclxuXHJcbiAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICBzaG93SW5wdXRFcnJvcihmb3JtRWwsIGlucHV0RWwsIGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2UsIGNvbmZpZyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0LCBjb25maWcpID0+IHtcclxuICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0RWwpID0+IHtcclxuICAgIHJldHVybiAhaW5wdXRFbC52YWxpZGl0eS52YWxpZDtcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IHRvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKSA9PiB7XHJcbiAgaWYgKGhhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XHJcbiAgICBkaXNhYmxlQnV0dG9uKGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZGlzYWJsZUJ1dHRvbiA9IChidXR0b25FbGVtZW50LCBjb25maWcpID0+IHtcclxuICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlc2V0VmFsaWRhdGlvbiA9IChmb3JtRWwsIGlucHV0TGlzdCwgY29uZmlnKSA9PiB7XHJcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWwsIGlucHV0LCBjb25maWcpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoZm9ybUVsLCBjb25maWcpID0+IHtcclxuICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKGZvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcblxyXG4gIGNvbnNvbGUubG9nKGlucHV0TGlzdCk7XHJcbiAgY29uc29sZS5sb2coYnV0dG9uRWxlbWVudCk7XHJcblxyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcclxuICBmb3JtRWwuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2V0XCIsICgpID0+IHtcclxuICAgIGRpc2FibGVCdXR0b24oYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcclxuICB9KTtcclxuXHJcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWwpID0+IHtcclxuICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKTtcclxuICAgICAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcclxuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSk7XHJcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsKSA9PiB7XHJcbiAgICBzZXRFdmVudExpc3RlbmVycyhmb3JtRWwsIGNvbmZpZyk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5lbmFibGVWYWxpZGF0aW9uKHNldHRpbmdzKTtcclxuIiwiaW1wb3J0IHtcclxuICBlbmFibGVWYWxpZGF0aW9uLFxyXG4gIHNldHRpbmdzLFxyXG4gIHJlc2V0VmFsaWRhdGlvbixcclxufSBmcm9tIFwiLi4vc2NyaXB0cy92YWxpZGF0aW9uLmpzXCI7XHJcblxyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5cclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vdXRpbHMvYXBpLmpzXCI7XHJcblxyXG4vLyBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbi8vICAge1xyXG4vLyAgICAgbmFtZTogXCJWYWwgVGhvcmVuc1wiLFxyXG4vLyAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzEtcGhvdG8tYnktbW9yaXR6LWZlbGRtYW5uLWZyb20tcGV4ZWxzLmpwZ1wiLFxyXG4vLyAgIH0sXHJcblxyXG4vLyAgIHtcclxuLy8gICAgIG5hbWU6IFwiUmVzdGF1cmFudCB0ZXJyYWNlXCIsXHJcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvMi1waG90by1ieS1jZWlsaW5lLWZyb20tcGV4ZWxzLmpwZ1wiLFxyXG4vLyAgIH0sXHJcblxyXG4vLyAgIHtcclxuLy8gICAgIG5hbWU6IFwiQW4gb3V0ZG9vciBjYWZlXCIsXHJcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvMy1waG90by1ieS10dWJhbnVyLWRvZ2FuLWZyb20tcGV4ZWxzLmpwZ1wiLFxyXG4vLyAgIH0sXHJcblxyXG4vLyAgIHtcclxuLy8gICAgIG5hbWU6IFwiQSB2ZXJ5IGxvbmcgYnJpZGdlLCBvdmVyIHRoZSBmb3Jlc3QgYW5kIHRocm91Z2ggdGhlIHRyZWVzXCIsXHJcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvNC1waG90by1ieS1tYXVyaWNlLWxhc2NoZXQtZnJvbS1wZXhlbHMuanBnXCIsXHJcbi8vICAgfSxcclxuXHJcbi8vICAge1xyXG4vLyAgICAgbmFtZTogXCJUdW5uZWwgd2l0aCBtb3JuaW5nIGxpZ2h0XCIsXHJcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvNS1waG90by1ieS12YW4tYW5oLW5ndXllbi1mcm9tLXBleGVscy5qcGdcIixcclxuLy8gICB9LFxyXG5cclxuLy8gICB7XHJcbi8vICAgICBuYW1lOiBcIk1vdW50YWluIGhvdXNlXCIsXHJcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvNi1waG90by1ieS1tb3JpdHotZmVsZG1hbm4tZnJvbS1wZXhlbHMuanBnXCIsXHJcbi8vICAgfSxcclxuXHJcbi8vICAge1xyXG4vLyAgICAgbmFtZTogXCJHb2xkZW4gR2F0ZSBCcmlkZ2VcIixcclxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy83LXBob3RvLWJ5LWdyaWZmaW4td29vbGRyaWRnZS1mcm9tLXBleGVscy5qcGdcIixcclxuLy8gICB9LFxyXG4vLyBdO1xyXG5cclxuLy9JbnN0YW50aWF0ZSBBcGkgY2xhc3NcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjM4NjViNTMxLWM2MzctNGYwOC04MmVlLTM2YWY5NWE0MWM3N1wiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG4vLyBmdW5jdGlvbiByZW5kZXJDYXJkKGl0ZW0sIG1ldGhvZCA9IFwicHJlcGVuZFwiKSB7XHJcbi8vICAgY29uc3QgY2FyZEVsZW1lbnQgPSBnZXRDYXJkRWxlbWVudChpdGVtKTtcclxuLy8gICBjYXJkc0xpc3RbbWV0aG9kXShjYXJkRWxlbWVudCk7XHJcbi8vIH1cclxuXHJcbi8vIGFwaS5nZXRJbml0aWFsQ2FyZHMoKS50aGVuKChjYXJkcykgPT4ge1xyXG4vLyAgIGNhcmRzLmZvckVhY2goKGl0ZW0pID0+IHtcclxuLy8gICAgIC8vIGNvbnNvbGUubG9nKGl0ZW0pO1xyXG4vLyAgICAgcmVuZGVyQ2FyZChpdGVtLCBcInByZXBlbmRcIik7XHJcbi8vICAgfSk7XHJcbi8vIH0pO1xyXG5cclxuYXBpLmdldEluaXRpYWxDYXJkcygpLnRoZW4oKGNhcmRzKSA9PiB7XHJcbiAgY2FyZHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBnZXRDYXJkRWxlbWVudChpdGVtKTtcclxuICAgIGNhcmRzTGlzdC5hcHBlbmQoY2FyZEVsZW1lbnQpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbi8vIGluaXRpYWxDYXJkcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbi8vICAgLy8gY29uc29sZS5sb2coaXRlbSk7XHJcbi8vICAgcmVuZGVyQ2FyZChpdGVtLCBcInByZXBlbmRcIik7XHJcbi8vIH0pO1xyXG5cclxuY29uc3QgY2FyZHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkc19saXN0XCIpO1xyXG5cclxuY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5jb25zdCBlZGl0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtcHJvZmlsZS1tb2RhbFwiKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xyXG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RpdGxlXCIpO1xyXG5jb25zdCBlZGl0TW9kYWxOYW1lSW5wdXQgPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLW5hbWUtaW5wdXRcIik7XHJcbmNvbnN0IGVkaXRNb2RhbERlc2NyaXB0aW9uSW5wdXQgPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcclxuICBcIiNwcm9maWxlLWRlc2NyaXB0aW9uLWlucHV0XCJcclxuKTtcclxuLy8gY29uc3QgZWRpdEZvcm1FbGVtZW50ID0gZWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbmNvbnN0IGVkaXRGb3JtRWxlbWVudCA9IGRvY3VtZW50LmZvcm1zW1wicHJvZmlsZS1mb3JtXCJdO1xyXG5cclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBlZGl0TW9kYWxOYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlTmFtZS50ZXh0Q29udGVudDtcclxuICBlZGl0TW9kYWxEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50O1xyXG4gIHJlc2V0VmFsaWRhdGlvbihcclxuICAgIGVkaXRGb3JtRWxlbWVudCxcclxuICAgIFtlZGl0TW9kYWxOYW1lSW5wdXQsIGVkaXRNb2RhbERlc2NyaXB0aW9uSW5wdXRdLFxyXG4gICAgc2V0dGluZ3NcclxuICApO1xyXG4gIG9wZW5Nb2RhbChlZGl0TW9kYWwpO1xyXG59KTtcclxuXHJcbmNvbnN0IG1vZGFscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxcIik7XHJcbmNvbnN0IGhhbmRsZUNsaWNrT3V0c2lkZSA9IChldnQpID0+IHtcclxuICBtb2RhbHMuZm9yRWFjaCgobW9kYWwpID0+IHtcclxuICAgIGlmIChldnQudGFyZ2V0ID09PSBtb2RhbCAmJiBtb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9vcGVuZWRcIikpIHtcclxuICAgICAgY2xvc2VNb2RhbChtb2RhbCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVFc2NhcGVNb2RhbCA9IChldnQpID0+IHtcclxuICBtb2RhbHMuZm9yRWFjaCgobW9kYWwpID0+IHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIG1vZGFscy5mb3JFYWNoKGNsb3NlTW9kYWwpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gb3Blbk1vZGFsKG1vZGFsKSB7XHJcbiAgbW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjYXBlTW9kYWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XHJcbiAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XHJcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjYXBlTW9kYWwpO1xyXG59XHJcblxyXG5jb25zdCBjbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19jbG9zZS1idXR0b25cIik7XHJcblxyXG5jbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XHJcbiAgY29uc3QgcG9wdXAgPSBidXR0b24uY2xvc2VzdChcIi5tb2RhbFwiKTtcclxuICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGNsb3NlTW9kYWwocG9wdXApKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IGVkaXRNb2RhbE5hbWVJbnB1dC52YWx1ZTtcclxuICBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBlZGl0TW9kYWxEZXNjcmlwdGlvbklucHV0LnZhbHVlO1xyXG4gIGNsb3NlTW9kYWwoZWRpdE1vZGFsKTtcclxufVxyXG5cclxuLy8gQ29ubmVjdCB0aGUgaGFuZGxlciB0byB0aGUgZm9ybSwgc28gaXQgd2lsbCB3YXRjaCBmb3IgdGhlIHN1Ym1pdCBldmVudC5cclxuZWRpdEZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQpO1xyXG5cclxuLy9SZW5kZXJpbmcgQ2FyZHNcclxuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpO1xyXG5jb25zdCBwcmV2aWV3TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ByZXZpZXctbW9kYWxcIik7XHJcbmNvbnN0IHByZXZpZXdNb2RhbEltYWdlID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xyXG5jb25zdCBwcmV2aWV3TW9kYWxDYXB0aW9uID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhcHRpb25cIik7XHJcblxyXG5mdW5jdGlvbiBnZXRDYXJkRWxlbWVudChkYXRhKSB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkVGVtcGxhdGUuY29udGVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxyXG4gICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgY29uc3QgY2FyZE5hbWUgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xyXG4gIGNhcmROYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG5cclxuICBjb25zdCBjYXJkSW1hZ2UgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gIGNhcmRJbWFnZS5zcmMgPSBkYXRhLmxpbms7XHJcbiAgY2FyZEltYWdlLmFsdCA9IGRhdGEubmFtZTtcclxuXHJcbiAgY29uc3QgY2FyZExpa2UgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xyXG4gIGNhcmRMaWtlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjYXJkTGlrZS5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fbGlrZWRcIik7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGNhcmREZWxldGUgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIik7XHJcbiAgY2FyZERlbGV0ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgfSk7XHJcblxyXG4gIGNhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgcHJldmlld01vZGFsSW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xyXG4gICAgcHJldmlld01vZGFsSW1hZ2UuYWx0ID0gZGF0YS5uYW1lO1xyXG4gICAgcHJldmlld01vZGFsQ2FwdGlvbi50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgIG9wZW5Nb2RhbChwcmV2aWV3TW9kYWwpO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbn1cclxuXHJcbi8vIE5ldyBwb3N0IG1vZGFsXHJcblxyXG5jb25zdCBjYXJkTW9kYWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25ldy1wb3N0LWJ1dHRvblwiKTtcclxuY29uc3QgY2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1tb2RhbFwiKTtcclxuLy8gY29uc3QgY2FyZE1vZGFsQ2xvc2VCdXR0b24gPSBjYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnV0dG9uXCIpO1xyXG5cclxuY29uc3QgY2FyZE1vZGFsSW1hZ2VMaW5rSW5wdXQgPSBjYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1saW5rLWlucHV0XCIpO1xyXG5jb25zdCBjYXJkTW9kYWxDYXB0aW9uSW5wdXQgPSBjYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1uYW1lLWlucHV0XCIpO1xyXG5jb25zdCBjYXJkTW9kYWxGb3JtRWxlbWVudCA9IGRvY3VtZW50LmZvcm1zW1wiYWRkLWNhcmQtZm9ybVwiXTtcclxuY29uc3QgY2FyZFN1Ym1pdEJ1dHRvbiA9IGNhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zdWJtaXQtYnV0dG9uXCIpO1xyXG5cclxuY2FyZE1vZGFsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgb3Blbk1vZGFsKGNhcmRNb2RhbCk7XHJcbn0pO1xyXG5cclxuLy9TYXZlIE5ldyBQb3N0XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVOZXdQb3N0Rm9ybVN1Ym1pdChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBjb25zdCBpbnB1dFZhbHVlcyA9IHtcclxuICAgIG5hbWU6IGNhcmRNb2RhbENhcHRpb25JbnB1dC52YWx1ZSxcclxuICAgIGxpbms6IGNhcmRNb2RhbEltYWdlTGlua0lucHV0LnZhbHVlLFxyXG4gIH07XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBnZXRDYXJkRWxlbWVudChpbnB1dFZhbHVlcyk7XHJcbiAgY2FyZHNMaXN0LnByZXBlbmQoY2FyZEVsZW1lbnQpO1xyXG4gIGV2dC50YXJnZXQucmVzZXQoKTtcclxuICAvLyBkaXNhYmxlQnV0dG9uKGNhcmRTdWJtaXRCdXR0b24sIHNldHRpbmdzKTtcclxuICBjbG9zZU1vZGFsKGNhcmRNb2RhbCk7XHJcbn1cclxuXHJcbmNhcmRNb2RhbEZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlTmV3UG9zdEZvcm1TdWJtaXQpO1xyXG5cclxuZW5hYmxlVmFsaWRhdGlvbihzZXR0aW5ncyk7XHJcbiIsImNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge31cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIiwge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCIzODY1YjUzMS1jNjM3LTRmMDgtODJlZS0zNmFmOTVhNDFjNzdcIixcclxuICAgICAgfSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gaWYgdGhlIHNlcnZlciByZXR1cm5zIGFuIGVycm9yLCByZWplY3QgdGhlIHByb21pc2VcclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcGk7XHJcbiJdLCJuYW1lcyI6WyJzZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiaGlkZUlucHV0RXJyb3IiLCJmb3JtRWwiLCJpbnB1dEVsIiwiY29uZmlnIiwicXVlcnlTZWxlY3RvciIsImlkIiwidGV4dENvbnRlbnQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsZW1lbnQiLCJoYXNJbnZhbGlkSW5wdXQiLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsImRpc2FibGVCdXR0b24iLCJkaXNhYmxlZCIsImFkZCIsImVuYWJsZVZhbGlkYXRpb24iLCJBcnJheSIsImZyb20iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjb25zb2xlIiwibG9nIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkYXRpb25NZXNzYWdlIiwic2hvd0lucHV0RXJyb3IiLCJlcnJvck1zZyIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImJhc2VVcmwiLCJjYXJkcyIsIml0ZW0iLCJjYXJkRWxlbWVudCIsImdldENhcmRFbGVtZW50IiwiY2FyZHNMaXN0IiwiYXBwZW5kIiwicHJvZmlsZUVkaXRCdXR0b24iLCJlZGl0TW9kYWwiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVEZXNjcmlwdGlvbiIsImVkaXRNb2RhbE5hbWVJbnB1dCIsImVkaXRNb2RhbERlc2NyaXB0aW9uSW5wdXQiLCJlZGl0Rm9ybUVsZW1lbnQiLCJmb3JtcyIsInJlc2V0VmFsaWRhdGlvbiIsInZhbHVlIiwiaW5wdXQiLCJvcGVuTW9kYWwiLCJtb2RhbHMiLCJoYW5kbGVDbGlja091dHNpZGUiLCJldnQiLCJtb2RhbCIsInRhcmdldCIsImNvbnRhaW5zIiwiY2xvc2VNb2RhbCIsImhhbmRsZUVzY2FwZU1vZGFsIiwia2V5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImJ1dHRvbiIsInBvcHVwIiwiY2xvc2VzdCIsInByZXZlbnREZWZhdWx0IiwiY2FyZFRlbXBsYXRlIiwicHJldmlld01vZGFsIiwicHJldmlld01vZGFsSW1hZ2UiLCJwcmV2aWV3TW9kYWxDYXB0aW9uIiwiZGF0YSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJuYW1lIiwiY2FyZEltYWdlIiwic3JjIiwibGluayIsImFsdCIsImNhcmRMaWtlIiwidG9nZ2xlIiwiY2FyZE1vZGFsQnV0dG9uIiwiY2FyZE1vZGFsIiwiY2FyZE1vZGFsSW1hZ2VMaW5rSW5wdXQiLCJjYXJkTW9kYWxDYXB0aW9uSW5wdXQiLCJjYXJkTW9kYWxGb3JtRWxlbWVudCIsInByZXBlbmQiLCJyZXNldCJdLCJzb3VyY2VSb290IjoiIn0=